## Equivalence Class Partitioning

For the following exercises:

1. Identify equivalence classes for the parameters(s) under consideration.
2. Design a minimal set of test cases for this configuration input.
3. In case there are multiple parameters, the test cases should cover each partition for each parameter atleast once.

### Exercise 1 (Integer) – Data Retention Configuration (Compliance)

#### Scenario

An admin configures the data retention period for call recordings in the customer care platform.

System rules:
- Retention period is configured as an integer number of days.
- Must be between 30 and 365 days inclusive.
- If the value is invalid, the system must reject the configuration and log an error.


### Exercise 2 (Decimal) – Refund Amount Input (Web Chat, Finance Rules)

#### Scenario

For returns & refunds, the customer enters a refund amount in web chat.
Business rules (for a given currency, say EUR):
- Amount must be > 0
- Maximum amount per refund is 10,000.00 EUR
- Support at most 2 decimal places
- Must be a valid number

### Exercise 3 (String) – Order ID Input (Chat)

#### Scenario

The AI agent supports order tracking via web chat.

The customer must provide an Order ID that has these rules:
- Exactly 12 characters
- Only uppercase letters A–Z and digits 0–9
- No spaces
- Must exist in the order system (but for this exercise, we focus only on input validation, not existence)

### Exercise 4 (Discreet) – Region-Based Policy Logic (EU vs US)

#### Scenario

An AI agent answers FAQ about coverage.
Rules:

- If customer country is in EU (including DE) → apply EU policy.
- If customer country is US → apply US policy.
- If country is outside EU and US → display “not yet supported”.
- If the country code is invalid or missing → ask customer to clarify country.
Input field: ISO country code as a 2-letter string (e.g. DE, FR, US).

### Exercise 5 (Output-based) - Intent Classification

#### Scenario

You are designing an AI assistant for an e-commerce site. Customers ask about their orders in natural language.

Your system must choose one of three response types:

1. TRACK_STATUS – Give tracking info / where it is / what’s happening
2. ASK_ETA – Tell them when it’s expected / confirm schedule
3. REPORT_ISSUE – Handle problems: delayed, missing, lost, no updates

Following are some NL prompts to think about:
1. Where is my package?
2. Can you tell me where my package is?
3. What's the status of my delivery?
4. Has my package been shipped yet?
5. Where's my order right now?
6. Can you track my package for me?
7. What’s going on with my shipment?
8. When will my package arrive?
9. Is my package out for delivery?
10. Do you know where my parcel is?
11. Where is my parcel currently?
12. What’s the current location of my package?
13. Can I get an update on my delivery?
14. What’s the tracking status of my order?
15. Has my order been dispatched?
16. Is my order on the way?
17. How far along is my shipment?
18. Where did my package get to?
19. Could you check the tracking for my order?
20. I’m trying to find my package—where is it?
21. My order hasn’t arrived yet, where is it?
22. Why is my package taking so long?
23. Can you see where my package is stuck?
24. Is there any update on my package?
25. Has my delivery been sent out?
26. Can you check if my package is in transit?
27. What’s happening with my order delivery?
28. Can you show me the tracking info for my package?
29. Where is my stuff?
30. Is my parcel still on its way?
31. How can I see where my package is?
32. Where exactly is my delivery right now?
33. What’s the latest tracking update for my package?
34. Did my package leave the warehouse yet?
35. Is my order already shipped?
36. Can you tell me if my package has been delivered?
37. Why hasn’t my package arrived yet?
38. Can you help me locate my package?
39. What’s the ETA for my delivery?
40. Can you give me the current status of my parcel?
41. I haven’t received my order—where is it now?
42. Is there tracking information for my order?
43. Where is my shipment at the moment?
44. Can you look up where my package is right now?
45. Has my package reached the local depot?
46. Is my parcel with the courier yet?
47. What does the tracking say about my package?
48. Where did my order end up?
49. Could you update me on where my package is?
50. Can you tell me where my order is currently located?


### Exercise 6.1 (Multi-var): Parcel Support Chatbot

You are testing a simplified parcel support chatbot that has two input fields:

- contact channel (three possible options: chat, email, phone)
- request type (three possible options: track status, ask delivery time, report problem)

**Invalid values and partition coverage**
- For an invalid value of a given variable, keep other inputs valid and stable (to isolate the failure).
- However, do **not** claim ECP coverage for the “other variable” unless you know the system evaluates it (many systems short-circuit validation; the other field may not be processed at all).


## 6.2 Considering Constraints (Compatibility)

**Business Rule:** customers are only allowed to report a problem over the phone.  
(Formally: `requestType = report problem ⇒ channel = phone`)

Your goal here is *not* to exhaustively test all variable relationships. Your strategy is:

- Use **OFAT** for valid partition coverage: when targeting a partition of the variable-in-focus, choose **any compatible** value for the other variable(s).
- Build a **minimal valid** set that covers each partition at least once, while respecting the constraint.

Example minimal **valid ECP** set (covers all valid partitions while remaining compatible):

| TC | channel | request type |
|---:|---------|--------------|
| 1  | chat    | track status |
| 2  | email   | ask delivery time |
| 3  | phone   | report problem |

Notes:
- This does **not** mean that `phone + track status` is invalid. It’s simply not required for this *minimal partition-coverage* set.
- Additional valid combinations can still be tested if risk/requirements warrant them.

## Exercise 7 (Constraints can force extra valid tests)

You are testing a simplified apartment search form with two criteria:

- **floor** (ground floor; first floor; second or higher floor)
- **garden type** (no garden; small garden; large garden)

**Rule:** only apartments on the ground floor have gardens.  
(Formally: `gardenType ≠ no garden ⇒ floor = ground floor`)

Here, the constraint forces you to create additional valid tests to achieve partition coverage.

Minimal **valid ECP** set:

| TC | floor        | garden type |
|---:|--------------|-------------|
| 1  | ground floor | small garden |
| 2  | ground floor | large garden |
| 3  | first floor  | no garden |
| 4  | second+ floor| no garden |

Because “small” and “large” gardens are only compatible with “ground floor”, you need two separate ground-floor tests to cover both garden partitions.

---

## What about constraint violations?

Typical violations:
- Exercise 6: `report problem` + non-phone channel
- Exercise 7: `small/large garden` + non-ground floor

Whether you test *all* violating combinations depends on what you’re trying to cover.

### Some heuristics

**H1 — If the invalid combinations are expected to behave the same (same error, same handling), test one representative per violated rule.**
- Ex 6: test **one** of {report+chat, report+email} as a representative violation.
- Ex 7: test **one** representative non-ground floor with a garden (e.g., first floor + small garden).

**H2 — If different violating combinations can produce different behavior, test one per “distinct handling path”.**
Examples of “distinct handling”:
- Different UI messages by channel (chat vs email)
- Different server routes / APIs

Then it can be justified to test:
- Ex 6: both **report+chat** and **report+email**
- Ex 7: at least one violation per floor bucket (first floor + small, second+ + large)

**H3 — If there are many options (6–7+) and you can’t do all, use constrained pairwise on VALID values, and keep a small targeted “violation suite” for constraints.**
- Pairwise is usually for valid levels (interaction sampling).
- Constraint-violation tests remain a small, separate set that verifies enforcement.

**H4 - If there are many constraints, look at decision tables as a top up test design technique.**
---

