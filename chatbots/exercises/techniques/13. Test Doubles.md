## Test Doubles

### Types

**Dummy**: 
“Just something to fill the parameter so the code compiles; nobody should ever actually use me.”

**Stub**:
“Ask me something and I’ll hand back a fixed answer (local decision/as told to me by a test); I don’t care what you do with it.”

**Fake**: 
“I behave like the real thing but with a simpler, in-memory or toy implementation that’s only meant for tests.”

**Spy**: 
“Just watch what happens and let me assert on it later.”

**Mock**: 
“These are the rules for how you must be used; fail the test if they’re broken.”

### Demo: Stub and Mock

We’re testing a small part of a chatbot backend:

An `OrderStatusHandler` that answers:

“Where is my order <order_id>?”

It depends on:

- OrderService → talks to external order system.
- EscalationClient → notifies a human agent if something’s wrong.

Business rules:

1. If the order is found and status is SHIPPED, reply with a simple message.
2. If the order is found but delayed more than 3 days, the handler:
- Escalates to a human via EscalationClient
- Returns a “we’ve escalated” message.
3. If the order is not found, handler:
- Escalates (possible fraud / ID error)
- Returns a generic “we’re checking” message.

We’ll:

Use a **stub** for `OrderService` (control data, don’t assert on it).

Use a **mock** for `EscalationClient` (assert on how it’s called).

Explore `test_doubles.py` in `demos` directory.